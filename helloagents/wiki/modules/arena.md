# arena

## 目的
提供 “RAG Arena” 示例业务：提问、展示多答案/引用、投票反馈与统计展示。

## 模块概述
- **职责:** Arena 页面与组件组织、调用服务层、驱动状态层、实现交互闭环
- **状态:** 🚧开发中
- **最后更新:** 2025-12-24

## 规范

### 需求: 提问与答案展示
**模块:** arena
用户可提交问题并获得答案，答案可包含引用信息用于可解释性展示。

#### 场景: 非流式回答
提交问题后一次性返回结果并渲染。
- 加载态与错误态可见
- 引用信息可展示

#### 场景: 流式回答
提交问题后以流式方式增量渲染答案。
- 增量内容可持续追加
- 结束后形成最终答案结构

### 需求: 历史会话侧边栏
**模块:** arena
用户可在侧边栏查看历史会话列表，并在会话之间切换回看问题、回答与投票结果。

#### 场景: 新建会话
用户点击“新建会话”后开始新的提问流程。
- 不覆盖已有历史会话
- 新会话可在刷新后保留（本地持久化）

#### 场景: 切换会话回看
用户点击历史会话条目切换展示内容。
- 恢复问题与回答内容
- 恢复投票状态

#### 场景: 删除会话
用户在会话菜单中删除会话并确认。
- 会话从列表移除
- 删除当前会话时自动切换到其他会话或创建新会话

### 需求: 投票与统计
**模块:** arena
用户可对答案进行投票反馈，并查看统计信息。

#### 场景: 投票提交
选择答案并提交投票。
- 投票结果持久化到状态层
- 错误可提示并允许重试

#### 场景: 查看统计
加载并展示统计信息（如得分/票数）。
- 统计数据可刷新
- 无数据时给出占位提示

## 依赖
- components
- services
- stores
- types

## 变更历史
- [202512242354_arena_sidebar_sessions](../../history/2025-12/202512242354_arena_sidebar_sessions/) - 增加侧边栏历史会话列表（`@ant-design/x Conversations`）
